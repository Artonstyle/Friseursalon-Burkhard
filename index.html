<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Friseursalon Burkhard</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }

        .header-title {
            font-family: 'Playfair Display', serif;
        }

        /* Galerie */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-top: 20px;
        }

        .gallery img {
            width: 100%;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }

        .gallery img:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body class="bg-gray-100">

    <!-- HEADER -->
    <header class="bg-black text-white p-6 text-center shadow-lg">
        <h1 class="header-title text-4xl font-bold">Friseursalon Burkhard</h1>
        <p class="mt-2 text-lg">Ihr professioneller Haarstylist in Bielefeld</p>
    </header>

    <!-- NAVIGATION -->
    <nav class="bg-gray-900 text-white p-4 text-center">
        <a href="#start" class="mx-4 hover:text-yellow-400">Start</a>
        <a href="#haarschnitte" class="mx-4 hover:text-yellow-400">Haarschnitte</a>
        <a href="#gästebuch" class="mx-4 hover:text-yellow-400">Gästebuch</a>
    </nav>

    <!-- START -->
    <section id="start" class="p-8 text-center">
        <h2 class="text-3xl font-bold header-title">Willkommen</h2>
        <p class="mt-4 text-lg">
            Schön, dass Sie uns besuchen!  
            Hier finden Sie unsere Haarschnitte und echte Bewertungen unserer Kunden.
        </p>
    </section>

    <!-- HAARSCHNITTE -->
    <section id="haarschnitte" class="p-8 bg-white shadow-inner">
        <h2 class="text-3xl font-bold header-title text-center">Unsere Haarschnitte</h2>

        <div id="haarschnitt-galerie" class="gallery"></div>
    </section>

    <!-- GÄSTEBUCH -->
    <section id="gästebuch" class="p-8 bg-gray-200">
        <h2 class="text-3xl font-bold header-title text-center">Gästebuch</h2>

        <form id="gaestebuchForm" class="max-w-xl mx-auto mt-6 bg-white p-6 rounded-lg shadow">
            <label class="block">Name:</label>
            <input id="name" class="w-full p-2 border rounded mt-1">

            <label class="block mt-4">Nachricht:</label>
            <textarea id="nachricht" class="w-full p-2 border rounded mt-1"></textarea>

            <label class="block mt-4">Bewertung (1–5):</label>
            <input id="bewertung" type="number" min="1" max="5" class="w-full p-2 border rounded mt-1">

            <button type="submit" class="mt-4 w-full bg-black text-white p-2 rounded hover:bg-gray-800">
                Eintrag speichern
            </button>
        </form>

        <div id="gaestebuchEintraege" class="mt-8 max-w-2xl mx-auto"></div>
    </section>

    <!-- FIREBASE -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
        import { getFirestore, collection, addDoc, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "DEIN_KEY",
            authDomain: "DEIN_DOMAIN",
            projectId: "DEIN_PROJECT",
            storageBucket: "DEIN_BUCKET",
            messagingSenderId: "DEIN_ID",
            appId: "DEINE_APPID"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Gästebuch speichern
        document.getElementById("gaestebuchForm").addEventListener("submit", async (e) => {
            e.preventDefault();

            const name = document.getElementById("name").value;
            const nachricht = document.getElementById("nachricht").value;
            const bewertung = document.getElementById("bewertung").value;

            await addDoc(collection(db, "gaestebuch"), {
                name,
                nachricht,
                bewertung,
                datum: new Date()
            });

            alert("Danke für Ihren Eintrag!");
            location.reload();
        });

        // Gästebuch laden
        async function ladeGaestebuch() {
            const snap = await getDocs(collection(db, "gaestebuch"));
            const container = document.getElementById("gaestebuchEintraege");

            snap.forEach(doc => {
                const d = doc.data();

                const card = document.createElement("div");
                card.className = "bg-white p-4 rounded shadow mt-4";

                card.innerHTML = `
                    <h3 class="font-bold">${d.name}</h3>
                    <p class="text-gray-700">${d.nachricht}</p>
                    <p class="text-yellow-600 font-bold mt-2">Bewertung: ${d.bewertung} ⭐</p>
                `;

                container.appendChild(card);
            });
        }
        ladeGaestebuch();
    </script>

    <!-- AUTOMATISCH BILDER LADEN -->
    <script>
        async function loadHaarschnittImages() {
            const url = "https://api.github.com/repos/Artonstyle/Friseursalon-Burkhard/contents/Haarschnitte";

            try {
                const response = await fetch(url);
                const files = await response.json();

                const gallery = document.getElementById("haarschnitt-galerie");
                gallery.innerHTML = "";

                files.forEach(file => {
                    if (file.type === "file") {
                        const imgUrl =
                            `https://raw.githubusercontent.com/Artonstyle/Friseursalon-Burkhard/main/Haarschnitte/${file.name}`;

                        const img = document.createElement("img");
                        img.src = imgUrl;
                        img.alt = file.name;
                        img.loading = "lazy";

                        gallery.appendChild(img);
                    }
                });

            } catch (error) {
                console.error("Fehler beim Laden der Bilder:", error);
            }
        }

        document.addEventListener("DOMContentLoaded", loadHaarschnittImages);
    </script>

</body>
</html>
